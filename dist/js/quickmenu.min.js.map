{"version":3,"sources":["../../src/js/quickmenu.js"],"names":["QuickMenu","elements","overlay","container","nav","menu","btnOpen","btnClose","prepare","exists","document","querySelector","prepend","createNode","getElementsByClassName","item","nodeName","wrap","className","removeAttribute","append","listen","addEventListener","open","close","querySelectorAll","forEach","classList","add","remove","name","console","log","type","classes","content","node","createElement","innerHTML","el","parentNode","insertBefore","appendChild"],"mappings":"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","sourcesContent":["class QuickMenu\n{\n    constructor()\n    {\n        /* Define the Quick Menu elements. */\n        this.elements = {};\n        this.elements.overlay;\n        this.elements.container;\n        this.elements.nav;\n        this.elements.menu;\n        this.elements.btnOpen;\n        this.elements.btnClose;\n\n        /* Prepare the Quick Menu to the required syntax and define 'this.elements'. */\n        return this.prepare();\n    }\n    prepare()\n    {\n        /**\n        *   If the .quick-menu.overlay does not exist, create and prepend it to the <body>.\n        *   This darkens the background whilst the Quick Menu is open.\n        */\n        if (!this.exists( document.querySelector('.quick-menu.overlay') ))\n        {\n            document.querySelector('body').prepend( this.createNode('div', 'quick-menu overlay') );\n        }\n\n        /**\n        *   If 'Utmost Minimal' example used (i.e. <nav> element defined with '.quick-menu.navigation'),\n        *   wrap the <nav> inside a <div> moving the classes to the <div>.\n        */\n        this.elements.nav = document.getElementsByClassName(\"quick-menu navigation\").item(0);\n        if (this.elements.nav.nodeName == 'NAV')\n        {\n            this.wrap(this.elements.nav, this.createNode('div', this.elements.nav.className));\n            this.elements.nav.removeAttribute(\"class\"); // remove classes from nav.\n        }\n\n\n        // Re-run the following, so it now gets the div instead of nav.\n        this.elements.container = document.getElementsByClassName(\"quick-menu navigation\").item(0);\n        this.elements.overlay = document.getElementsByClassName(\"quick-menu overlay\").item(0);\n        // Get the NAV.\n        this.elements.nav = this.elements.container.querySelector('nav');\n\n\n\n        /**\n        *   WRAP NAV IN .menu if it doesn't exist.\n        */\n        if (!this.exists( this.elements.container.querySelector('.menu') ))\n        {\n            this.wrap(this.elements.nav, this.createNode('div', 'menu'));\n        }\n\n\n\n        // Get the menu.\n        this.elements.menu = this.elements.container.querySelector('.menu');\n\n\n\n\n\n        /**\n        *   Add quick menu button if it does not exist.\n        */\n        if (!this.exists( this.elements.container.querySelector('.button') ))\n        {\n            this.elements.container.prepend(this.createNode('div', 'button', 'Quick Menu'));\n        }\n\n        // if menu-close does not exist inside .menu, then add the close button.\n        if (!this.exists( this.elements.menu.querySelector('.menu-close') ))\n        {\n            this.elements.menu.append(this.createNode('div', 'menu-close', 'Close'));\n        }\n\n        // the buttons.\n        this.elements.btnOpen = this.elements.container.querySelector('.button');\n        this.elements.btnClose = this.elements.menu.querySelector('.menu-close');\n\n\n        return this.listen();\n    }\n    listen()\n    {\n        this.elements.btnOpen.addEventListener('click', () => { this.open(); });\n        this.elements.btnClose.addEventListener('click', () => { this.close(); });\n        this.elements.overlay.addEventListener('click', () => { this.close(); });\n        this.elements.nav.querySelectorAll('a').forEach(item => {\n            item.addEventListener('click', () => { this.close(); })\n        });\n        return this;\n    }\n    open()\n    {\n        // can display the quick menu on desktop, which is unexpected. Ensure this is being executed when in responsive mode only.\n        // console.log('manually open');\n\n        /**/\n        this.elements.btnOpen.classList.add('hide');\n        this.elements.btnOpen.classList.remove('show');\n        this.elements.menu.classList.add('show');\n        this.elements.overlay.classList.add('active');\n\n        return this;\n    }\n    close()\n    {\n        /**/\n        this.elements.btnOpen.classList.remove('hide');\n        this.elements.btnOpen.classList.add('show');\n        this.elements.menu.classList.remove('show');\n        this.elements.overlay.classList.remove('active');\n\n        return this;\n    }\n    theme(name)\n    {\n        console.log('change theme to: ' + name);\n        return this;\n    }\n    /**\n    *   Create a new node.\n    *   @param {String} type The type of node to create, e.g. div, span, nav etc.\n    *   @param {String} classes The classes to apply to the new node, e.g. 'quick-menu navigation'\n    *   @param {String} content Optionally define the innerHTML, i.e. the content inside the new node.\n    */\n    createNode(type, classes, content)\n    {\n        content = content || false;\n        let node = document.createElement(type);\n        node.className = classes;\n        if (content) { node.innerHTML = content; }\n        return node;\n    }\n    /**\n    *   Check if an element exists.\n    */\n    exists(el)\n    {\n        if(typeof(el) != 'undefined' && el != null) { return true; } // If not undefined or null, then exists.\n        return false;\n    }\n    /**\n    *   Place the node (el) inside a new node (wrap); i.e. wrap the existing\n    *   element in a new node.\n    */\n    wrap(el, wrap)\n    {\n        el.parentNode.insertBefore(wrap, el);\n        wrap.appendChild(el);\n    }\n}\n\nconst menu = new QuickMenu();\n\n\n// export default QuickMenu;\n"],"file":"quickmenu.min.js"}