{"version":3,"file":"quickmenu.min.js","sources":["../../src/js/Helper.js","../../src/js/QuickMenu.js"],"sourcesContent":["export default class Helper {\n    /**\n    *   Create a new node.\n    *   @param {String} type The type of node to create, e.g. div, span, nav etc.\n    *   @param {String} classes The classes to apply to the new node, e.g. 'quick-menu navigation'\n    *   @param {String} content Optionally define the innerHTML, i.e. the content inside the new node.\n    */\n    createNode(type, classes, content)\n    {\n        content = content || false;\n        let node = document.createElement(type);\n        node.className = classes;\n        if (content) { node.innerHTML = content; }\n        return node;\n    }\n    /**\n    *   Check if an element exists.\n    */\n    exists(el)\n    {\n        if(typeof(el) != 'undefined' && el != null) { return true; } // If not undefined or null, then exists.\n        return false;\n    }\n    /**\n    *   Place the node (el) inside a new node (wrap); i.e. wrap the existing\n    *   element in a new node.\n    */\n    wrap(el, wrap)\n    {\n        el.parentNode.insertBefore(wrap, el);\n        wrap.appendChild(el);\n    }\n}\n","import Helper from './Helper.js';\n\nclass QuickMenu\n{\n    constructor()\n    {\n        // Use our Helper.\n        this.helper = new Helper;\n\n        // Define the Quick Menu elements.\n        this.elements = {};\n        this.elements.overlay;\n        this.elements.container;\n        this.elements.nav;\n        this.elements.menu;\n        this.elements.btnOpen;\n        this.elements.btnClose;\n\n        // Prepare the Quick Menu to the required syntax and define 'this.elements'.\n        return this.init();\n    }\n    init()\n    {\n        /**\n        *   If the .quick-menu.overlay does not exist, create and prepend it to the <body>.\n        *   This darkens the background whilst the Quick Menu is open.\n        */\n        if (!this.helper.exists( document.querySelector('.quick-menu.overlay') ))\n        {\n            document.querySelector('body').prepend( this.helper.createNode('div', 'quick-menu overlay') );\n        }\n        // Define the element.\n        this.elements.overlay = document.getElementsByClassName(\"quick-menu overlay\").item(0);\n\n        /**\n        *   If 'Utmost Minimal' example used (i.e. <nav> element with '.quick-menu.navigation' classes),\n        *   wrap the <nav> inside a <div> moving the classes to the <div>.\n        */\n        this.elements.nav = document.getElementsByClassName(\"quick-menu navigation\").item(0);\n        if (this.elements.nav.nodeName == 'NAV')\n        {\n            this.helper.wrap(this.elements.nav, this.helper.createNode('div', this.elements.nav.className));\n            this.elements.nav.removeAttribute(\"class\"); // remove classes from nav.\n        }\n        // Define the elements. Re-run the following, correctly capturing the 'container' and the 'nav'.\n        this.elements.container = document.getElementsByClassName(\"quick-menu navigation\").item(0);\n        this.elements.nav = this.elements.container.querySelector('nav');\n\n        /**\n        *   Wrap the 'nav' inside a 'div' with the '.menu' class, if not already.\n        */\n        if (!this.helper.exists( this.elements.container.querySelector('.menu') ))\n        {\n            this.helper.wrap(this.elements.nav, this.helper.createNode('div', 'menu'));\n        }\n        // Define the element.\n        this.elements.menu = this.elements.container.querySelector('.menu');\n\n        /**\n        *   Add the 'Quick Menu' button if it does not exist.\n        */\n        if (!this.helper.exists( this.elements.container.querySelector('.button') ))\n        {\n            this.elements.container.prepend(this.helper.createNode('div', 'button', 'Quick Menu'));\n        }\n        // Define the element.\n        this.elements.btnOpen = this.elements.container.querySelector('.button');\n\n        /**\n        *   Add the 'Close' button with '.menu-close' if it does not exist.\n        *   The button must be placed inside the '.menu' div.\n        */\n        if (!this.helper.exists( this.elements.menu.querySelector('.menu-close') ))\n        {\n            this.elements.menu.append(this.helper.createNode('div', 'menu-close', 'Close'));\n        }\n        // Define the element.\n        this.elements.btnClose = this.elements.menu.querySelector('.menu-close');\n\n        return this.listen();\n    }\n    listen()\n    {\n        this.elements.btnOpen.addEventListener('click', () => { this.open(); });\n        this.elements.btnClose.addEventListener('click', () => { this.close(); });\n        this.elements.overlay.addEventListener('click', () => { this.close(); });\n        this.elements.nav.querySelectorAll('a').forEach(item => { // Close the menu when a navigation item is clicked.\n            item.addEventListener('click', () => { this.close(); })\n        });\n        return this;\n    }\n    /**\n    *   Open the Quick Menu.\n    *   Can be manually invoked, however can return unexpected results if on desktop.\n    */\n    open()\n    {\n        this.elements.btnOpen.classList.add('hide');\n        this.elements.btnOpen.classList.remove('show');\n        this.elements.menu.classList.add('show');\n        this.elements.overlay.classList.add('active');\n        return this;\n    }\n    /**\n    *   Close the Quick Menu.\n    *   Can be manually invoked (+ idempotent).\n    */\n    close()\n    {\n        this.elements.btnOpen.classList.remove('hide');\n        this.elements.btnOpen.classList.add('show');\n        this.elements.menu.classList.remove('show');\n        this.elements.overlay.classList.remove('active');\n        return this;\n    }\n    /**\n    *   Change the theme to the theme-name specified.\n    */\n    theme(name)\n    {\n        //\n        return this;\n    }\n}\n\nexport default QuickMenu;\n"],"names":["Helper","type","classes","content","node","document","createElement","className","innerHTML","el","wrap","parentNode","insertBefore","appendChild","QuickMenu","this","helper","elements","overlay","container","nav","menu","btnOpen","btnClose","init","exists","querySelector","prepend","createNode","getElementsByClassName","item","nodeName","removeAttribute","append","listen","addEventListener","a","open","close","querySelectorAll","forEach","classList","add","remove"],"mappings":"iUAAqBA,wEAOjB,SAAWC,EAAMC,EAASC,GAEtBA,EAAUA,MACV,IAAIC,EAAOC,SAASC,cAAcL,GAGlC,OAFAG,EAAKG,UAAYL,EACbC,IAAWC,EAAKI,UAAYL,GACzBC,wBAKX,SAAOK,eAEc,IAAPA,GAA4B,MAANA,sBAOpC,SAAKA,EAAIC,GAELD,EAAGE,WAAWC,aAAaF,EAAMD,GACjCC,EAAKG,YAAYJ,YC5BnBK,aAEF,aAeI,iBAZAC,KAAKC,OAAS,IAAIhB,EAGlBe,KAAKE,SAAW,GAChBF,KAAKE,SAASC,QACdH,KAAKE,SAASE,UACdJ,KAAKE,SAASG,IACdL,KAAKE,SAASI,KACdN,KAAKE,SAASK,QACdP,KAAKE,SAASM,SAGPR,KAAKS,qCAEhB,WA0DI,YApDUR,OAAOS,OAAQpB,SAASqB,cAAc,yBAE5CrB,SAASqB,cAAc,QAAQC,QAASZ,KAAKC,OAAOY,WAAW,MAAO,uBAG1Eb,KAAKE,SAASC,QAAUb,SAASwB,uBAAuB,sBAAsBC,KAAK,GAMnFf,KAAKE,SAASG,IAAMf,SAASwB,uBAAuB,yBAAyBC,KAAK,GAChD,YAAzBb,SAASG,IAAIW,WAElBhB,KAAKC,OAAON,KAAKK,KAAKE,SAASG,IAAKL,KAAKC,OAAOY,WAAW,MAAOb,KAAKE,SAASG,IAAIb,YACpFQ,KAAKE,SAASG,IAAIY,gBAAgB,UAGtCjB,KAAKE,SAASE,UAAYd,SAASwB,uBAAuB,yBAAyBC,KAAK,GACxFf,KAAKE,SAASG,IAAML,KAAKE,SAASE,UAAUO,cAAc,OAKrDX,KAAKC,OAAOS,OAAQV,KAAKE,SAASE,UAAUO,cAAc,WAE3DX,KAAKC,OAAON,KAAKK,KAAKE,SAASG,IAAKL,KAAKC,OAAOY,WAAW,MAAO,SAGtEb,KAAKE,SAASI,KAAON,KAAKE,SAASE,UAAUO,cAAc,SAKtDX,KAAKC,OAAOS,OAAQV,KAAKE,SAASE,UAAUO,cAAc,aAE3DX,KAAKE,SAASE,UAAUQ,QAAQZ,KAAKC,OAAOY,WAAW,MAAO,SAAU,eAG5Eb,KAAKE,SAASK,QAAUP,KAAKE,SAASE,UAAUO,cAAc,WAMzDX,KAAKC,OAAOS,OAAQV,KAAKE,SAASI,KAAKK,cAAc,iBAEtDX,KAAKE,SAASI,KAAKY,OAAOlB,KAAKC,OAAOY,WAAW,MAAO,aAAc,UAG1Eb,KAAKE,SAASM,SAAWR,KAAKE,SAASI,KAAKK,cAAc,eAEnDX,KAAKmB,+BAEhB,sBAQI,YANKjB,SAASK,QAAQa,iBAAiB,SAAS,WAAQC,EAAKC,UAC7DtB,KAAKE,SAASM,SAASY,iBAAiB,SAAS,WAAQC,EAAKE,WAC9DvB,KAAKE,SAASC,QAAQiB,iBAAiB,SAAS,WAAQC,EAAKE,WAC7DvB,KAAKE,SAASG,IAAImB,iBAAiB,KAAKC,SAAQ,SAAAV,GAC5CA,EAAKK,iBAAiB,SAAS,WAAQC,EAAKE,cAEzCvB,yBAMX,WAMI,YAJKE,SAASK,QAAQmB,UAAUC,IAAI,QACpC3B,KAAKE,SAASK,QAAQmB,UAAUE,OAAO,QACvC5B,KAAKE,SAASI,KAAKoB,UAAUC,IAAI,QACjC3B,KAAKE,SAASC,QAAQuB,UAAUC,IAAI,UAC7B3B,0BAMX,WAMI,YAJKE,SAASK,QAAQmB,UAAUE,OAAO,QACvC5B,KAAKE,SAASK,QAAQmB,UAAUC,IAAI,QACpC3B,KAAKE,SAASI,KAAKoB,UAAUE,OAAO,QACpC5B,KAAKE,SAASC,QAAQuB,UAAUE,OAAO,UAChC5B,0BAKX,WAGI"}